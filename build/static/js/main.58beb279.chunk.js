(this["webpackJsonpmy-app-name"]=this["webpackJsonpmy-app-name"]||[]).push([[0],{157:function(e,t,n){},163:function(e,t){},165:function(e,t){},180:function(e,t){},182:function(e,t){},210:function(e,t){},212:function(e,t){},213:function(e,t){},218:function(e,t){},220:function(e,t){},226:function(e,t){},228:function(e,t){},247:function(e,t){},259:function(e,t){},262:function(e,t){},296:function(e,t,n){},298:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(146),s=n.n(c),i=(n(157),n(152)),o=n(3),l=n(5),u=n(6),j=n(10),b=n(147),m=n.n(b);var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage.getItem(e)||t,r=Object(a.useState)(n),c=Object(u.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){null===s?localStorage.removeItem(e):localStorage.setItem(e,s)}),[e,s]),[s,i]},d=n(148),h=n(149),O=n(150),f=n.n(O),x=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"request",value:function(){var t=Object(l.a)(Object(o.a)().mark((function t(n){var a,r,c,s,i,l,u=arguments;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2&&void 0!==u[2]?u[2]:"get",console.debug("API Call:",n,a,r),c="".concat("https://my-app-jobly.herokuapp.com","/").concat(n),s={Authorization:"Bearer ".concat(e.token)},i="get"===r?a:{},t.prev=6,t.next=9,f()({url:c,method:r,data:a,params:i,headers:s});case 9:return t.abrupt("return",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error("API Error:",t.t0.response),l=t.t0.response.data.error.message,Array.isArray(l)?l:[l];case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompanies",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies",{name:t});case 2:return n=e.sent,e.abrupt("return",n.companies);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJobs",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs",{title:t});case 2:return n=e.sent,e.abrupt("return",n.jobs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"applyToJob",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t,"/jobs/").concat(n),{},"post");case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return n=e.sent,e.abrupt("return",n.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return n=e.sent,e.abrupt("return",n.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveProfile",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,n){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t),n,"patch");case 2:return a=e.sent,e.abrupt("return",a.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),v=x,g=(n(296),n(0));var N=function(){return Object(g.jsx)("div",{className:"LoadingSpinner",children:"Loading ..."})},y=r.a.createContext();n(298);var w=function(e){var t=e.logout,n=Object(a.useContext)(y).currentUser;return Object(g.jsxs)("nav",{className:"Navigation navbar navbar-expand-md",children:[Object(g.jsx)(j.b,{className:"navbar-brand",to:"/",children:"Jobly"}),n?Object(g.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(g.jsx)("li",{className:"nav-item mr-4",children:Object(g.jsx)(j.c,{className:"nav-link",to:"/companies",children:"Companies"})}),Object(g.jsx)("li",{className:"nav-item mr-4",children:Object(g.jsx)(j.c,{className:"nav-link",to:"/jobs",children:"Jobs"})}),Object(g.jsx)("li",{className:"nav-item mr-4",children:Object(g.jsx)(j.c,{className:"nav-link",to:"/profile",children:"Profile"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsxs)(j.b,{className:"nav-link",to:"/",onClick:t,children:["Log out ",n.first_name||n.username]})})]}):Object(g.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(g.jsx)("li",{className:"nav-item mr-4",children:Object(g.jsx)(j.c,{className:"nav-link",to:"/login",children:"Login"})}),Object(g.jsx)("li",{className:"nav-item mr-4",children:Object(g.jsx)(j.c,{className:"nav-link",to:"/signup",children:"Sign Up"})})]})]})},k=n(9);n(306);var C=function(){var e=Object(a.useContext)(y).currentUser;return Object(g.jsx)("div",{className:"Homepage",children:Object(g.jsxs)("div",{className:"container text-center",children:[Object(g.jsx)("h1",{className:"mb-4 font-weight-bold",children:"Jobly"}),Object(g.jsx)("p",{className:"lead",children:"All the jobs in one, convenient place."}),e?Object(g.jsxs)("h2",{children:["Welcome Back, ",e.firstName||e.username,"!"]}):Object(g.jsxs)("p",{children:[Object(g.jsx)(j.b,{className:"btn btn-primary font-weight-bold mr-3",to:"/login",children:"Log in"}),Object(g.jsx)(j.b,{className:"btn btn-primary font-weight-bold",to:"/signup",children:"Sign up"})]})]})})};n(307);var S=function(e){var t=e.searchFor,n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],s=r[1];return Object(g.jsx)("div",{className:"SearchForm mb-4",children:Object(g.jsxs)("form",{className:"form-inline",onSubmit:function(e){e.preventDefault(),t(c.trim()||void 0),s(c.trim())},children:[Object(g.jsx)("input",{className:"form-control form-control-lg flex-grow-1",name:"searchTerm",placeholder:"Enter search term..",value:c,onChange:function(e){s(e.target.value)}}),Object(g.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary",children:"Submit"})]})})};n(308);var U=function(e){var t=e.name,n=e.description,a=e.logoUrl,r=e.handle;return Object(g.jsx)(j.b,{className:"CompanyCard card",to:"/companies/".concat(r),children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("h6",{className:"card-title",children:[t,a&&Object(g.jsx)("img",{src:a,alt:t,className:"float-right ml-5"})]}),Object(g.jsx)("p",{children:Object(g.jsx)("small",{children:n})})]})})};var J=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1];function c(e){return s.apply(this,arguments)}function s(){return s=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getCompanies(t);case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}return Object(a.useEffect)((function(){c()}),[]),n?Object(g.jsxs)("div",{className:"CompanyList col-md-8 offset-md-2",children:[Object(g.jsx)(S,{searchFor:c}),n.length?Object(g.jsx)("div",{className:"CompanyList-list",children:n.map((function(e){return Object(g.jsx)(U,{handle:e.handle,name:e.name,description:e.description,logoUrl:e.logoUrl},e.handle)}))}):Object(g.jsx)("p",{className:"lead",children:"Sorry, no results were found!"})]}):Object(g.jsx)(N,{})};n(309);function q(e){for(var t=[],n=e.toString(),a=n.length-1;a>=0;a--)t.push(n[a]),a>0&&a%3===0&&t.push(",");return t.reverse().join("")}var L=function(e){var t=e.id,n=e.title,r=e.salary,c=e.equity,s=e.companyName,i=Object(a.useContext)(y),j=i.hasAppliedToJob,b=i.applyToJob,m=Object(a.useState)(),p=Object(u.a)(m,2),d=p[0],h=p[1];function O(){return(O=Object(l.a)(Object(o.a)().mark((function e(n){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j(t)){e.next=2;break}return e.abrupt("return");case 2:b(t),h(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){h(j(t))}),[t,j]),Object(g.jsxs)("div",{className:"JobCard card",children:[" ",d,Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h6",{className:"card-title",children:n}),Object(g.jsx)("p",{children:s}),r&&Object(g.jsx)("div",{children:Object(g.jsxs)("small",{children:["Salary: ",q(r)]})}),void 0!==c&&Object(g.jsx)("div",{children:Object(g.jsxs)("small",{children:["Equity: ",c]})}),Object(g.jsx)("button",{className:"btn btn-danger font-weight-bold text-uppercase float-right",onClick:function(e){return O.apply(this,arguments)},disabled:d,children:d?"Applied":"Apply"})]})]})};var E=function(e){var t=e.jobs;return e.apply,Object(g.jsx)("div",{className:"JobCardList",children:t.map((function(e){return Object(g.jsx)(L,{id:e.id,title:e.title,salary:e.salary,equity:e.equity,companyName:e.companyName},e.id)}))})};var A=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1];function c(e){return s.apply(this,arguments)}function s(){return s=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getJobs(t);case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}return Object(a.useEffect)((function(){c()}),[]),n?Object(g.jsxs)("div",{className:"JobList col-md-8 offset-md-2",children:[Object(g.jsx)(S,{searchFor:c}),n.length?Object(g.jsx)(E,{jobs:n}):Object(g.jsx)("p",{className:"lead",children:"Sorry, no results were found!"})]}):Object(g.jsx)(N,{})};var P=function(){var e=Object(k.h)().handle,t=Object(a.useState)(null),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){function t(){return(t=Object(l.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,v.getCompany(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r?Object(g.jsxs)("div",{className:"CompanyDetail col-md-8 offset-md-2",children:[Object(g.jsx)("h4",{children:r.name}),Object(g.jsx)("p",{children:r.description}),Object(g.jsx)(E,{jobs:r.jobs})]}):Object(g.jsx)(N,{})},F=n(23),I=n(19);var T=function(e){var t=e.type,n=void 0===t?"danger":t,a=e.messages,r=void 0===a?[]:a;return Object(g.jsx)("div",{className:"alert alert-".concat(n),role:"alert",children:r.map((function(e){return Object(g.jsx)("p",{className:"mb-0 small",children:e},e)}))})};var D=function(e){var t=e.login,n=Object(k.g)(),r=Object(a.useState)({username:"",password:""}),c=Object(u.a)(r,2),s=c[0],i=c[1],j=Object(a.useState)([]),b=Object(u.a)(j,2),m=b[0],p=b[1];function d(e){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(Object(o.a)().mark((function e(a){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t(s);case 3:(r=e.sent).success?n.push("/companies"):p(r.errors);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(F.a)({},n,a))}))}return Object(g.jsx)("div",{className:"LoginForm",children:Object(g.jsxs)("div",{className:"container col-md-6 offset-md-3 col-lg-4 offset-lg-4",children:[Object(g.jsx)("h3",{className:"mb-3",children:"Log In"}),Object(g.jsx)("div",{className:"card",children:Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)("form",{onSubmit:d,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Username"}),Object(g.jsx)("input",{name:"username",className:"form-control",value:s.username,onChange:O,autoComplete:"username",required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Password"}),Object(g.jsx)("input",{type:"password",name:"password",className:"form-control",value:s.password,onChange:O,autoComplete:"current-password",required:!0})]}),m.length?Object(g.jsx)(T,{type:"danger",messages:m}):null,Object(g.jsx)("button",{className:"btn btn-primary float-right",onSubmit:d,children:"Submit"})]})})})]})})};var B=function(){var e=Object(a.useContext)(y),t=e.currentUser,n=e.setCurrentUser,r=Object(a.useState)({firstName:t.firstName,lastName:t.lastName,email:t.email,username:t.username,password:""}),c=Object(u.a)(r,2),s=c[0],i=c[1],j=Object(a.useState)([]),b=Object(u.a)(j,2),m=b[0],p=b[1],d=Object(a.useState)(!1),h=Object(u.a)(d,2),O=h[0],f=h[1];function x(){return(x=Object(l.a)(Object(o.a)().mark((function e(t){var a,r,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password},r=s.username,e.prev=3,e.next=6,v.saveProfile(r,a);case 6:c=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),p(e.t0),e.abrupt("return");case 14:i((function(e){return Object(I.a)(Object(I.a)({},e),{},{password:""})})),p([]),f(!0),n(c);case 18:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function N(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(F.a)({},n,a))})),p([])}return Object(g.jsxs)("div",{className:"col-md-6 col-lg-4 offset-md-3 offset-lg-4",children:[Object(g.jsx)("h3",{children:"Profile"}),Object(g.jsx)("div",{className:"card",children:Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)("form",{children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Username"}),Object(g.jsx)("p",{className:"form-control-plaintext",children:s.username})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"First Name"}),Object(g.jsx)("input",{name:"firstName",className:"form-control",value:s.firstName,onChange:N})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Last Name"}),Object(g.jsx)("input",{name:"lastName",className:"form-control",value:s.lastName,onChange:N})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)("input",{name:"email",className:"form-control",value:s.email,onChange:N})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Confirm password to make changes:"}),Object(g.jsx)("input",{type:"password",name:"password",className:"form-control",value:s.password,onChange:N})]}),m.length?Object(g.jsx)(T,{type:"danger",messages:m}):null,O?Object(g.jsx)(T,{type:"success",messages:["Updated successfully."]}):null,Object(g.jsx)("button",{className:"btn btn-primary btn-block mt-4",onClick:function(e){return x.apply(this,arguments)},children:"Save Changes"})]})})})]})};var W=function(e){var t=e.signup,n=Object(k.g)(),r=Object(a.useState)({username:"",password:"",firstName:"",lastName:"",email:""}),c=Object(u.a)(r,2),s=c[0],i=c[1],j=Object(a.useState)([]),b=Object(u.a)(j,2),m=b[0],p=b[1];function d(e){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(Object(o.a)().mark((function e(a){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t(s);case 3:(r=e.sent).success?n.push("/companies"):p(r.errors);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(F.a)({},n,a))}))}return Object(g.jsx)("div",{className:"SignupForm",children:Object(g.jsxs)("div",{className:"container col-md-6 offset-md-3 col-lg-4 offset-lg-4",children:[Object(g.jsx)("h2",{className:"mb-3",children:"Sign Up"}),Object(g.jsx)("div",{className:"card",children:Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)("form",{onSubmit:d,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Username"}),Object(g.jsx)("input",{name:"username",className:"form-control",value:s.username,onChange:O})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Password"}),Object(g.jsx)("input",{type:"password",name:"password",className:"form-control",value:s.password,onChange:O})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"First name"}),Object(g.jsx)("input",{name:"firstName",className:"form-control",value:s.firstName,onChange:O})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Last name"}),Object(g.jsx)("input",{name:"lastName",className:"form-control",value:s.lastName,onChange:O})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)("input",{type:"email",name:"email",className:"form-control",value:s.email,onChange:O})]}),m.length?Object(g.jsx)(T,{type:"danger",messages:m}):null,Object(g.jsx)("button",{type:"submit",className:"btn btn-primary float-right",onSubmit:d,children:"Submit"})]})})})]})})};var z=function(e){var t=e.exact,n=e.path,r=e.children;return Object(a.useContext)(y).currentUser?Object(g.jsx)(k.b,{exact:t,path:n,children:r}):Object(g.jsx)(k.a,{to:"/login"})};var H=function(e){var t=e.login,n=e.signup;return Object(g.jsx)("div",{className:"pt-5",children:Object(g.jsxs)(k.d,{children:[Object(g.jsx)(k.b,{exact:!0,path:"/",children:Object(g.jsx)(C,{})}),Object(g.jsx)(k.b,{exact:!0,path:"/login",children:Object(g.jsx)(D,{login:t})}),Object(g.jsx)(k.b,{exact:!0,path:"/signup",children:Object(g.jsx)(W,{signup:n})}),Object(g.jsx)(z,{exact:!0,path:"/companies",children:Object(g.jsx)(J,{})}),Object(g.jsx)(z,{exact:!0,path:"/jobs",children:Object(g.jsx)(A,{})}),Object(g.jsx)(z,{exact:!0,path:"/companies/:handle",children:Object(g.jsx)(P,{})}),Object(g.jsx)(z,{path:"/profile",children:Object(g.jsx)(B,{})}),Object(g.jsx)(k.a,{to:"/"})]})})};var $=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(new Set([])),s=Object(u.a)(c,2),b=s[0],d=s[1],h=Object(a.useState)(null),O=Object(u.a)(h,2),f=O[0],x=O[1],k=p("jobly-token"),C=Object(u.a)(k,2),S=C[0],U=C[1];function J(){return(J=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.signup(t);case 3:return n=e.sent,U(n),e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,errors:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function q(){return(q=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.login(t);case 3:return n=e.sent,U(n),e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,errors:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function L(e){return b.has(e)}return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=14;break}return e.prev=1,t=m.a.decode(S),n=t.username,v.token=S,e.next=6,v.getCurrentUser(n);case 6:a=e.sent,x(a),d(new Set(a.applications)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),x(null);case 14:r(!0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}r(!1),function(){e.apply(this,arguments)}()}),[S]),n?Object(g.jsx)(j.a,{children:Object(g.jsx)(y.Provider,{value:{currentUser:f,setCurrentUser:x,hasAppliedToJob:L,applyToJob:function(e){L(e)||(v.applyToJob(f.username,e),d(new Set([].concat(Object(i.a)(b),[e]))))}},children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(w,{logout:function(){x(null),U(null)}}),Object(g.jsx)(H,{login:function(e){return q.apply(this,arguments)},signup:function(e){return J.apply(this,arguments)}})]})})}):Object(g.jsx)(N,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(g.jsx)($,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[310,1,2]]]);
//# sourceMappingURL=main.58beb279.chunk.js.map